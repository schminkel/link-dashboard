/* iOS Safe Area Insets */
.ios-safe-area-top {
  padding-top: env(safe-area-inset-top, 0);
}

.ios-safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.ios-safe-area-left {
  padding-left: env(safe-area-inset-left, 0);
}

.ios-safe-area-right {
  padding-right: env(safe-area-inset-right, 0);
}

.ios-safe-area-padding {
  padding: env(safe-area-inset-top, 0)
           env(safe-area-inset-right, 0)
           env(safe-area-inset-bottom, 0)
           env(safe-area-inset-left, 0);
}

/* Additional styles for header with safe area insets */
@supports (padding-top: env(safe-area-inset-top)) {
  /* Safe area overlays for iOS standalone mode */
  .header-with-inset {
    /* Use full safe area inset */
    padding-top: env(safe-area-inset-top);
    margin-top: 0;
    /* Make header background more transparent to blend with blur */
    background-color: rgba(15, 23, 42, 0.8) !important;
    position: sticky; /* Ensure header stays fixed at the top */
    z-index: 90; /* Higher z-index to ensure it's above regular content */
  }
  
  .app-container {
    /* Important: Prevent content from scrolling behind the status bar */
    padding-top: env(safe-area-inset-top, 0); /* Add padding to push content below safe area */
    overflow-x: hidden;
    position: relative; /* Create a new stacking context */
  }
  
  /* Media query specifically for iOS in standalone mode */
  @media screen and (display-mode: standalone) {
    body {
      /* Remove margin to avoid double spacing */
      margin-top: 0;
      /* Create proper scrollable area */
      height: 100%;
      width: 100%;
      position: fixed;
      overflow: hidden;
    }
    
    /* This ensures the actual scrollable content */
    .app-container {
      overflow-y: auto;
      -webkit-overflow-scrolling: touch; /* Smoother scrolling on iOS */
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      height: 100%;
      width: 100%;
      /* Prevent scrolling behind status bar */
      padding-top: 0; /* We'll handle this differently */
    }
    
    /* Fixed position elements need special handling */
    .fixed, .sticky {
      /* Ensure fixed elements respect safe area */
      padding-top: env(safe-area-inset-top, 0);
    }
    
    /* Main content area needs to account for safe areas */
    .min-h-screen {
      min-height: calc(100vh - env(safe-area-inset-bottom, 0));
      padding-top: env(safe-area-inset-top, 0); /* Push content below safe area */
    }
    
    /* Adjust header position to stay fixed at top */
    .sticky.top-0 {
      top: env(safe-area-inset-top, 0);
      position: sticky;
    }
  }
}
