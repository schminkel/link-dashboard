/* iOS Safe Area Insets */
.ios-safe-area-top {
  padding-top: env(safe-area-inset-top, 0);
}

.ios-safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.ios-safe-area-left {
  padding-left: env(safe-area-inset-left, 0);
}

.ios-safe-area-right {
  padding-right: env(safe-area-inset-right, 0);
}

.ios-safe-area-padding {
  padding: env(safe-area-inset-top, 0)
           env(safe-area-inset-right, 0)
           env(safe-area-inset-bottom, 0)
           env(safe-area-inset-left, 0);
}

/* Additional styles for header with safe area insets */
@supports (padding-top: env(safe-area-inset-top)) {
  /* The blur background that extends into the safe area */
  .safe-area-blur {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: env(safe-area-inset-top, 0);
    background-color: rgba(15, 23, 42, 0.8); /* slate-900/80 - more transparent to match header */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    z-index: 50; /* Above everything else, including header */
    pointer-events: none; /* Allow clicks to pass through */
  }
  
  /* The blur background for bottom safe area */
  .safe-area-blur-bottom {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: env(safe-area-inset-bottom);
    background-color: rgba(15, 23, 42, 0.95); /* slate-900/95 */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    z-index: 29; /* Just below the header z-index */
  }
  
  .header-with-inset {
    /* Use full safe area inset */
    padding-top: env(safe-area-inset-top);
    margin-top: 0;
    /* Make header background more transparent to blend with blur */
    background-color: rgba(15, 23, 42, 0.8) !important;
  }
  
  .app-container {
    /* Remove padding to avoid double spacing */
    padding-top: 0;
    /* Prevent scrolling behind modal overlays */
    overflow-x: hidden;
  }
  
  /* Media query specifically for iOS in standalone mode */
  @media screen and (display-mode: standalone) {
    body {
      /* Remove margin to avoid double spacing */
      margin-top: 0;
      /* Prevent content from scrolling behind the status bar */
      padding-top: 0;
    }
    
    /* Fixed position elements need special handling */
    .fixed, .sticky {
      /* Ensure fixed elements respect safe area */
      padding-top: env(safe-area-inset-top, 0);
    }
    
    /* Full-height containers need to account for safe areas */
    .min-h-screen {
      min-height: calc(100vh - env(safe-area-inset-top, 0) - env(safe-area-inset-bottom, 0));
    }
  }
}
